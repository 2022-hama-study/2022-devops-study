# 2. 도커의 동작 원리

## 2-2. 이미지와 컨테이너
컨테이너를 생성하려면 이미지가 있어야 한다.  
이미지는 컨테이너를 찍어내는 `빵틀`과 같은 것이다.  

역으로 컨테이너로도 이미지를 만들 수 있다.  

----

### 컨테이너로 이미지 만들기 (컨테이너 실행되고 있다는 가정하에)
```bash
docker commit [컨테이너 이름] [생성할 이미지이름]:[태그]
```
#
### 이미지를 파일로 변환하기 (만들어둔 이미지가 있다는 가정하에)
보통 이미지를 공유한다고 하면 도커허브(레지스트리)를 통해서만 가능한것으로 알고 있겠지만  
이미지를 파일로 export 해서 로컬 to 로컬 공유도 가능하다.  
```bash
docker save -o [파일이름].tar [이미지 이름]
```
#
### 이미지파일을 로드해서 이미지로 변환하기
```bash
docker load -i [파일이름].tar
```
#
### 컨테이너를 파일로 변환하기
docker는 이미지 뿐만 아니라 컨테이너도 파일로 export 할 수 있다.  
```bash
docker export [컨테이너 이름] > [파일이름].tar
```
#
### 컨테이너파일을 로드해서 이미지로 변환하기
export로 변환한 파일은 import로 이미지화 해야한다.  
```bash
docker import [파일이름].tar - [이미지 이름]:[태그]
```

----

## 2-4. 도커의 장점과 단점
### 장점
- 한 대의 물리 서버에 여러 대의 서버(컨테이너)를 띄울 수 있다.
- 컨테이너에 커널을 포함시킬 필요가 없기 때문에 가볍다.
- 원하는 배포판을 사용할 수 있다.
- 격리가 가능하다.

### 단점
- 호스트 서버에 문제가 생기면 모든 컨테이너에 영향이 미친다.

### 도커의 용도
- 팀원 모두에게 동일한 개발환경 제공하기
- 테스트 서버 구축
- 동일한 서버가 여러대 필요한 경우
